<div class="agent-hub">
    <div class="row g-4">
        <!-- Agent Chat -->
        <div class="col-md-8">
            <div class="card">
                <div class="card-header d-flex justify-content-between align-items-center">
                    <h5 class="mb-0">Agent Communication Hub</h5>
                    <div class="btn-group">
                        <button class="btn btn-sm btn-outline-primary" onclick="broadcastMessage()">
                            <i class="fas fa-broadcast-tower me-2"></i>Broadcast
                        </button>
                        <button class="btn btn-sm btn-outline-primary" onclick="showLogs()">
                            <i class="fas fa-history me-2"></i>Logs
                        </button>
                    </div>
                </div>
                <div class="card-body">
                    <div class="agent-chat" id="agentChat">
                        <div class="chat-messages" style="height: 400px; overflow-y: auto;">
                            <!-- Messages will be populated here -->
                        </div>
                        <div class="chat-input mt-3">
                            <div class="input-group">
                                <input type="text" class="form-control" placeholder="Send instruction to agents...">
                                <button class="btn btn-primary">
                                    <i class="fas fa-paper-plane"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Active Workflows -->
        <div class="col-md-4">
            <div class="card">
                <div class="card-header">
                    <h5 class="mb-0">Active Workflows</h5>
                </div>
                <div class="card-body">
                    <div class="workflow-list">
                        <div class="workflow-item p-3 border rounded mb-3">
                            <div class="d-flex justify-content-between align-items-start">
                                <div>
                                    <h6 class="mb-1">Content Creation</h6>
                                    <small class="text-muted">3 agents involved</small>
                                </div>
                                <span class="badge bg-success">Running</span>
                            </div>
                            <div class="progress mt-2" style="height: 5px;">
                                <div class="progress-bar" style="width: 65%"></div>
                            </div>
                        </div>
                        <div class="workflow-item p-3 border rounded mb-3">
                            <div class="d-flex justify-content-between align-items-start">
                                <div>
                                    <h6 class="mb-1">Community Management</h6>
                                    <small class="text-muted">2 agents involved</small>
                                </div>
                                <span class="badge bg-success">Running</span>
                            </div>
                            <div class="progress mt-2" style="height: 5px;">
                                <div class="progress-bar" style="width: 80%"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Agent Network Graph -->
        <div class="col-12">
            <div class="card">
                <div class="card-header">
                    <h5 class="mb-0">Agent Network</h5>
                </div>
                <div class="card-body">
                    <canvas id="networkGraph" height="300"></canvas>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
// Initialize network graph
function initializeNetwork() {
    const ctx = document.getElementById('networkGraph').getContext('2d');
    const networkData = {
        nodes: [
            { id: 1, label: 'Community Manager', x: 100, y: 100 },
            { id: 2, label: 'Content Creator', x: 200, y: 150 },
            { id: 3, label: 'Analytics Agent', x: 150, y: 200 }
        ],
        edges: [
            { from: 1, to: 2 },
            { from: 2, to: 3 },
            { from: 3, to: 1 }
        ]
    };

    // Implement network visualization
    // (Using a library like vis.js or cytoscape.js would be better for this)
}

// Simulate real-time agent communication
function simulateAgentCommunication() {
    const messages = [
        { from: 'Community Manager', content: 'New member joined, initiating welcome sequence' },
        { from: 'Content Creator', content: 'Generated daily content summary' },
        { from: 'Analytics Agent', content: 'Engagement metrics updated' }
    ];

    const chatMessages = document.querySelector('.chat-messages');
    messages.forEach(msg => {
        const messageEl = document.createElement('div');
        messageEl.className = 'message p-2 mb-2 border rounded';
        messageEl.innerHTML = `
            <small class="text-primary">${msg.from}</small>
            <div>${msg.content}</div>
        `;
        chatMessages.appendChild(messageEl);
        chatMessages.scrollTop = chatMessages.scrollHeight;
    });
}

// Initialize everything
document.addEventListener('DOMContentLoaded', function() {
    initializeNetwork();
    setInterval(simulateAgentCommunication, 5000);
});
</script>

<style>
.workflow-item {
    transition: all 0.3s ease;
}

.workflow-item:hover {
    background: #f8f9fa;
    transform: translateY(-2px);
}

.message {
    animation: fadeIn 0.3s ease;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}
</style> 